<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados</title>
    <link rel="stylesheet" href="css/relatorio.css">
</head>
<body>
    <header>
        <h1>AppCalc</h1>
    </header>
    <main>
        <div class="content">
            <table>
                <caption></caption>
                <tr>
                    <td colspan="2">Resultados</td>
                </tr>
                <tr>
                    <td>Momento Fletor</td>
                    <td id="Md">...</td>
                </tr>
                <tr>
                    <td>Armadura Longitudinal</td>
                    <td id="nSimboloFiBitola">...</td>
                </tr>
                <tr>
                    <td>Área de Aço Calculada</td>
                    <td id="As">...</td>
                </tr>
                <tr>
                  <td>
                    Área de aço efetiva 
                  </td>
                  <td id="Asef">...</td>
                </tr>
                <tr>
                    <td>Esforço Cortante</td>
                    <td id="Vsd">...</td>
                </tr>
                <tr>
                    <td>Força Cortante Resistente de Cálculo</td>
                    <td id="Vrd2">...</td>
                </tr>
                <tr>
                    <td>Armadura Transversal</td>
                    <td id="detalhamentoFinalDosEstribos">...</td>
                </tr>
                <tr>
                    <td>Flexa Imediata (cm)</td>
                    <td id="ai">...</td>
                </tr>
                <tr>
                    <td>Flexa Diferida no Tempo (cm)</td>
                    <td id="aflu">...</td>
                </tr>
                <tr>
                    <td>Fissuração</td>
                    <td id="wk">...</td>
                </tr>
            </table>
        </div>
    </main>
    <footer>
        <p>&copy; NarutoCearence</p>
        <p>Todos os direitos reservados</p>
        <p><small>Desenvolvido por: Euclides da Cunha</small></p>
    </footer>
    <script>
        // Function to format numbers with two decimal places
        function formatNumber(value) {
            if (!isNaN(value)) {
                return parseFloat(value).toFixed(2);
            }
            return value;
        }

        // Function to update the table values
        function updateContent() {
            const fields = {
                Md: 'Md',
                nSimboloFiBitola: function() {
                    const n = localStorage.getItem('n') || '...';
                    const simboloFi = localStorage.getItem('SIMBOLO_FI') || 'φ';
                    const bitola = localStorage.getItem('bitolautilizada');
                    return `${n} ${simboloFi} ${bitola}`;
                },
                As: 'As',
                Asef: 'Asef',
                Vsd: 'Vsd',
                Vrd2: 'Vrd2',
                detalhamentoFinalDosEstribos: 'detalhamentoFinalDosEstribos',
                ai: 'ai',
                aflu: 'aflu',
                wk: function() {
                    const wkValue = localStorage.getItem('wk');
                    if (wkValue) {
                        return parseFloat(wkValue).toExponential(2);
                    }
                    return '...';
                }
            };

            Object.keys(fields).forEach(field => {
                if (typeof fields[field] === 'function') {
                    document.getElementById(field).innerText = fields[field]();
                } else {
                    const value = localStorage.getItem(fields[field]);
                    if (value) {
                        document.getElementById(fields[field]).innerText = formatNumber(value);
                    }
                }
            });
        }

        window.onload = updateContent;
    </script>
</body>
</html>
